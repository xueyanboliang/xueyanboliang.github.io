<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>for Alina</title>
<script src="startmove.js"></script>
<script type="text/javascript">
document.addEventListener('mousedown', function(e) {
	e.preventDefault();
});
window.onload = function(){
	var wrap = document.querySelector('.wrap');
	var Z = document.querySelector('.translateZ');
	var ball = document.querySelector('.ball');
	var imgs = ball.children;
	var rows =[1,4,10,12,10,4,1];
	var ballInner = "";
	var now = 0;
	var end = 0;
	var degY = 90/Math.floor(rows.length/2);
	var R = Math.round(50*Math.tan((180-degY)/2*Math.PI/180))+50;
	var length = 0;
	wrap.style.WebkitPerspective = wrap.style.perspective = 4*R+"px";
	for(var i = 0; i < rows.length; i++){
		length += rows[i];
	}
	for(var i = 1; i <= length; i++){
		ballInner += '<img src="Alina_love/Alina_'+i+'.png" class="alina_blink"/>';
	}
	ball.innerHTML = ballInner;
	for(var i = 0; i < rows.length; i++){
		end = rows[i];
		var x = 0;
		var degX = 360/rows[i];
		for(var j = 0; j < rows[i]; j++){
			var y = (i - Math.floor(rows.length/2))*degY;
			var x = j * degX;
			//console.log(x);
			var translateZ = Math.round(Math.cos(y*Math.PI/180)*100)*R/100;
			var translateY = Math.round(Math.sin(y*Math.PI/180)*100)*R/100;
			imgs[now].style.WebkitTransform = imgs[now].style.transform = ' rotateY('+(x)+'deg) translate3d('+0+'px, '+translateY+'px, '+(-translateZ)+'px) rotateX('+(y)+'deg)';
			now++;
		}
	}
	var bet = document.querySelector('.guess');
	var express =  document.querySelector('.express');
	bet.addEventListener('click', function () {
		startMove({
			el: Z,
			target: {
				left: 341
			},
			type: "backOut",
			time: 500,
			callBack: function () {
				startMove({
					el: Z,
					target: {
						left: 1000
					},
					type: "backBoth",
					time: 900,
					callBack: function () {
						startMove({
							el: Z,
							target: {
								left:341
							},
							type: "backBoth",
							time: 1200,
							callBack: function () {
								express.style.display = 'block'
								startMove({
									el: express,
									target: {
										right: 168
									},
									type: 'backOut',
									time: 600
								})
							}
						});
					}
				});
			}
		});
	}, false);
	var like = document.getElementById('like');
	like.value = like.value.replace(/\s/gi,'');
};
</script>
<style type="text/css">
.wrap {
	position: absolute;
	left: 0;
	right: 0;
	top: 0;
	bottom: 0;
	-webkit-perspective: 1200px;
	perspective: 1200px;
	overflow: hidden;
	background:url('Alina_love/forAlina.png') top right no-repeat;
	background-size: cover;
}
.wrap .guess {
	position: absolute;
	right: 50px;
	top: 30px;
	width: 50px;
	height: 50px;
	background: url('Alina_love/Alina_28.png') center center no-repeat;
	background-size: 50px 50px;
	vertical-align: top;
	border: 1px solid #fff;
	border-radius: 6px;
	cursor: pointer;
}
.wrap .express {
	display: none;
	position: absolute;
	right: 0;
	top: 100px;
	width: 520px;
	height: 500px;
	text-align: center;
	background: url('Alina_love/Alina.png') center center no-repeat;
	border: 1px solid #fff;
	border-radius: 5px;
}
.wrap .express .text {
	margin-top: 108px;
	width: 520px;
	height: 392px;
	font-size: 0;
	overflow: hidden;
}
.wrap .express .text textarea {
	width: 100%;
	height: 100%;
	font-size: 14px;
	font-family: "仿宋体";
    letter-spacing: 2px;
    background: #ebeacc;
    border: none;
    overflow-y: scroll
}
.translateZ {
	position: absolute;
	left: 50%;
	top: 50%;
	-webkit-transform-style: preserve-3d;
	transform-style: preserve-3d;
}
.ball {
	position: absolute;
	left: 50%;
	top: 50%;
	-webkit-transform-style: preserve-3d;
	transform-style: preserve-3d;
}
.alina_moved {animation: 15s alina_moved linear infinite}
.alina_blink {animation: 6s alina_blink linear infinite}
@keyframes alina_blink {
	0% {
		box-shadow: 0 0 210px #fff;
	}
	50% {
		box-shadow: 0 0 0px #fff;
	}
	100% {
		box-shadow: 0 0 210px #fff;
	}
}
@-webkit-keyframes alina_blink {
	0% {
		box-shadow: 0 0 210px #fff;
	}
	50% {
		box-shadow: 0 0 0px #fff;
	}
	100% {
		box-shadow: 0 0 210px #fff;
	}
}
@-moz-keyframes alina_blink {
	0% {
		box-shadow: 0 0 210px #fff;
	}
	50% {
		box-shadow: 0 0 0px #fff;
	}
	100% {
		box-shadow: 0 0 210px #fff;
	}
}
@keyframes alina_moved {
	0% {
		transform: rotateX(0deg) rotateY(0deg) rotateZ(0deg);
	}
	100% {
		transform: rotateX(0deg) rotateY(360deg) rotateZ(0deg);
	}
}
@-webkit-keyframes alina_moved {
	0% {
		transform: rotateX(0deg) rotateY(0deg) rotateZ(0deg);
	}
	100% {
		transform: rotateX(0deg) rotateY(360deg) rotateZ(0deg);
	}
}
@-moz-keyframes alina_moved {
	0% {
		transform: rotateX(0deg) rotateY(0deg) rotateZ(0deg);
	}
	100% {
		transform: rotateX(0deg) rotateY(360deg) rotateZ(0deg);
	}
}
.ball img {
	position: absolute;
	left: 0;
	top: 0;
	margin: -50px 0 0 -50px;
	width: 100px;
	height: 100px;
	box-sizing: border-box;
	border: 1px solid #ccc;
	box-shadow: 0 0 5px #fff;
	/* -webkit-backface-visibility: hidden;
	backface-visibility: hidden; */
}
</style>
</head>
<body>
<section class="wrap">
	<a href="javascript:;" class="guess"></a>
	<div class="express">
		<div class="text">
			<textarea cols="30" rows="10" id="like">
				&nbsp&nbsp从上周末看了你的帖子解开你的题目到昨天跟你一起吃饭看电影刚好已经有七天了，现在想起当时猜对你微信的情形，感觉还是那样兴奋，一是因为解开谜语的快感，更多的是因为有机会可以去了解帖子上所描述的你，独立自主，有自己的想法，笑起来还那样好看，安静而又美丽，最重要的是三观上的一些契合点（包括你的那些问题我都能给你肯定的回答）让我迫切地让我想要去了解你，认识你，毕竟千金易得，知己难求，万一还是一位红颜知己呢，怀着这样的心情，好像这周的每一晚我好像都带着些不安和欣喜，尽管你好像对我的欣喜视若无睹。其实虽然我平时也爱看一些心理学著作和各种理论研究，但是生活中我是一个更偏向于感性的人，因为我觉得那些理论研究最终的目也不过是想让人活得更像一个人罢了，让自己在这个物欲横流的世界活出自己，而不是慢慢地屈服于世界的规则，按照自己的方式去活而不是世界的方式。说了这么多（大多都是废话。。），只是想说明我是一个生活中偏向于感性和随性的人，其实我写给你的代码里其实也充满着感情，你感受不到吗， o(︶︿︶)o，这也是我为什么只是看了你的文字就对你充满期待的原因，因为我相信文字也是有情感的，所以我从你的文字中看到了你，虽然并没有见到。见到你发现你果然是那样的安静，而我其实一开始有些紧张，但是很开心，以至于有些随意。。也许是因为我在自己喜欢的人面前喜欢无拘无束的原因。。。虽然我们昨天
				也就只看了一场电影，吃了一顿饭，聊天也就聊了一个小时，还基本上都是谈论的工作，但我还是感觉现实中的你一如文字中的你，在“万一”中喜欢上了你，只是好景不长(for me),也就持续到了今天中午。。。也许是因为年龄的差异和时间导致的阅历使你能在一夜之间判断出我们是否合适，，，而我不能，我觉得就如你前期调研和分析了很久的产品还没开始运营就被老板否掉的感觉一样。虽然我们有着年龄，地域和经历的不同，但我觉得是否决定两个人值得开始的最重要的是两个人对于事物的看法和见解，然后再慢慢地去恋爱，结婚，白头偕老，“一
				见钟情”也不过是各方面一小部分的短暂契合，实际上最后也不一定合适。也许我们各自的考虑不同，但是我们应该都是想要找到能够一个自己喜欢，对方也喜欢自己，能够使对方变得更好的soulmate（而不是一个速成的“爱情”），而这样的人并非天生存在的，但是后天却能由双方各自为自己创造出来，so，如果我们对各自的感觉还算及格，我们可以试着开始互相了解，相处，真正从生活中去了解对方，而这种方式也并非要从情侣开始，相信我昨天看到的也只是在外界表面的你。就像我虽然是个程序员
				但我写代码的时间可能还没你长，虽然我是一个前端但实际上我更感兴趣是的后端，或者说不局限于某一方面，所以说我的效果只是为你而写。其实。。。。。。我就是想说，我喜欢你，烧麦，喜欢你安静的样子，喜欢你笑的样子，喜欢跟你一起讨论问题一本正经的样子，虽然你永远都是烧麦，但是烧麦的样子也是由你自己定义的，我会让你成为一只更香更好看更开心的烧麦。所以对于你所说的做朋友，我可以接受，只是我只接受做一个可以了解你，认识你，跟你一起经历生活喜欢着你并且可能
				会慢慢爱上你，让你爱上的朋友。如果你的答案是Yes，微信就给我回1，如果不是就回0。至于这个网页，就当做是我给你的礼物吧。
			</textarea>
		</div>
	</div>
	<div class="translateZ">
		<div class="ball alina_moved">
		</div>
	</div>
</section>
</body>
</html>